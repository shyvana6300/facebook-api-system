{
  "swagger": "2.0",
  "info": {
    "version": "3.0.0",
    "title": "Facebook REST API",
    "description": "Document Swagger for Facebook API"
  },
  "host": "localhost:3000",
  "basePath": "/",
  "tags": [
    {
      "name": "Account",
      "description": "API for Account Route"
    },
    {
      "name": "Activity",
      "description": "API for Activity Route"
    }
  ],
  "schemes": [
    "http"
  ],
  "securityDefinitions": {},
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/account/register": {
      "post": {
        "tags": [
          "Account"
        ],
        "description": "Sign up a specific account",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "example": "any"
                },
                "password": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Account created.",
            "schema": {
              "$ref": "#/definitions/NewAccount"
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/account/login": {
      "post": {
        "tags": [
          "Account"
        ],
        "description": "Sign in a specific user to get OTP login",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Account infor.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Account"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Email and password is valid - Return OTP"
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Account Not Found"
          }
        }
      }
    },
    "/account/getTokenLogin": {
      "post": {
        "tags": [
          "Account"
        ],
        "description": "Get login Token for email signed in and OTP provided",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Account infor.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/getTokenLogin"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Login successful"
          },
          "400": {
            "description": "Invalid email or OTP"
          },
          "404": {
            "description": "OTP or account not found || OTP expired"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/account/forgotPassword": {
      "post": {
        "tags": [
          "Account"
        ],
        "description": "Enter email for resetting password",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Return reset password URL with token"
          },
          "400": {
            "description": "Invalid email"
          }
        }
      }
    },
    "/account/resetPassword/{token}": {
      "post": {
        "tags": [
          "Account"
        ],
        "description": "Create new password",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "passwordConfirm": {
                  "example": "any"
                },
                "newPassword": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Create new password successful"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized token"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/account/updateProfile": {
      "put": {
        "tags": [
          "Account"
        ],
        "description": "Update account profile",
        "parameters": [
          {
            "name": "Avatar Image",
            "in": "formData",
            "type": "file",
            "description": "Select avatar image"
          },
          {
            "name": "obj",
            "in": "body",
            "description": "Profile information.",
            "schema": {
              "$ref": "#/definitions/updateProfile"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Update profile successful"
          },
          "401": {
            "description": "Unauthorized or expired token"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/account/primeUpgrade": {
      "put": {
        "description": "",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized or expired token"
          }
        }
      }
    },
    "/account/testGetToken": {
      "get": {
        "tags": [
          "Testing"
        ],
        "description": "Test API with login required",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized or expired token"
          }
        }
      }
    },
    "/account/testApi": {
      "get": {
        "tags": [
          "Testing"
        ],
        "description": "Test API",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/activity/postStatus": {
      "post": {
        "tags": [
          "Activity"
        ],
        "description": "Post new status",
        "parameters": [
          {
            "name": "Status Image",
            "in": "formData",
            "type": "file",
            "description": "Upload status image"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "content": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created New Status"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized or expired token"
          },
          "404": {
            "description": "Account commented Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/addComment": {
      "post": {
        "tags": [
          "Activity"
        ],
        "description": "Add a new comment",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "idStatus": {
                  "example": "any"
                },
                "content": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created new comment"
          },
          "400": {
            "description": "Invalid comment input"
          },
          "401": {
            "description": "Unauthorized or expired token"
          },
          "404": {
            "description": "Status or commenter not found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/reactStatus": {
      "post": {
        "tags": [
          "Activity"
        ],
        "description": "Like/Unlike a status",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "idStatus": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Like/Unlike successful"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized or expired token"
          },
          "404": {
            "description": "Status of account reactor Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/addFriend": {
      "post": {
        "tags": [
          "Activity"
        ],
        "description": "Add a friend",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "idFriend": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Add friend successful"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized or expired token"
          },
          "404": {
            "description": "User Account or Friend Account Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/timeline": {
      "get": {
        "tags": [
          "Activity"
        ],
        "description": "Timeline of friend activity",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "type": "string"
          },
          {
            "name": "offset",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Get timeline successful"
          },
          "401": {
            "description": "Unauthorized or expired token"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/report": {
      "get": {
        "tags": [
          "Activity"
        ],
        "description": "Get report of account activity pass a week",
        "parameters": [],
        "responses": {
          "201": {
            "description": "Create report successful"
          },
          "401": {
            "description": "Unauthorized or expired token"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    }
  },
  "definitions": {
    "Account": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "youremail@gmail.com"
        },
        "password": {
          "type": "string",
          "example": "yourpassword2023"
        }
      }
    },
    "NewAccount": {
      "type": "object",
      "properties": {
        "id": {
          "type": "number",
          "example": 6
        },
        "email": {
          "type": "string",
          "example": "youremail@gmail.com"
        },
        "password": {
          "type": "string",
          "example": "$2a$08$f5/QJX3B7buNzcNdMsCj6O9Ki82gGvpXtyFfE.iUYJJ6FtqrEwFci"
        },
        "role": {
          "type": "string",
          "example": "user"
        },
        "updatedAt": {
          "type": "string",
          "example": "2023-04-24T17:49:11.243Z"
        },
        "createdAt": {
          "type": "string",
          "example": "2023-04-24T17:49:11.243Z"
        }
      }
    },
    "getTokenLogin": {
      "type": "object",
      "properties": {
        "otp": {
          "type": "string",
          "example": "TEST2OTP"
        },
        "email": {
          "type": "string",
          "example": "youremail@gmail.com"
        }
      }
    },
    "updateProfile": {
      "type": "object",
      "properties": {
        "fullName": {
          "type": "string",
          "example": "your name"
        },
        "birthday": {
          "type": "string",
          "example": "1992-10-16"
        },
        "job": {
          "type": "string",
          "example": "your job"
        },
        "address": {
          "type": "string",
          "example": "your address"
        },
        "gender": {
          "type": "string",
          "example": "your gender"
        }
      }
    }
  }
}